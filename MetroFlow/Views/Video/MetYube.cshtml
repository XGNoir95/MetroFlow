@model IEnumerable<MetroFlow.Models.Video>

@{
    Layout = "_Layout";
    ViewData["Title"] = "MetYube - Video Library";
}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<style>
    /* Removed floating animations for top section */

    @@keyframes float2 {
        0%, 100% {
            transform: translateY(0px) translateX(0px) scale(0.8);
            opacity: 0.2;
        }

        33% {
            transform: translateY(-25px) translateX(-20px) scale(1.2);
            opacity: 0.5;
        }

        66% {
            transform: translateY(-5px) translateX(25px) scale(0.7);
            opacity: 0.3;
        }
    }

    @@keyframes float3 {
        0%, 100% {
            transform: translateY(0px) translateX(0px) scale(1.1);
            opacity: 0.4;
        }

        40% {
            transform: translateY(-15px) translateX(-10px) scale(0.9);
            opacity: 0.6;
        }

        80% {
            transform: translateY(-35px) translateX(15px) scale(1.3);
            opacity: 0.2;
        }
    }

    @@keyframes float4 {
        0%, 100% {
            transform: translateY(0px) translateX(0px) scale(0.9);
            opacity: 0.3;
        }

        30% {
            transform: translateY(-20px) translateX(20px) scale(1.1);
            opacity: 0.5;
        }

        70% {
            transform: translateY(-10px) translateX(-25px) scale(0.8);
            opacity: 0.4;
        }
    }

    .floating-circle-2 {
        animation: float2 10s ease-in-out infinite 2s;
    }

    .floating-circle-3 {
        animation: float3 12s ease-in-out infinite 4s;
    }

    .floating-circle-4 {
        animation: float4 9s ease-in-out infinite 1s;
    }

    .floating-circle-5 {
        animation: float2 11s ease-in-out infinite 3s;
    }

    .floating-circle-6 {
        animation: float2 7s ease-in-out infinite 5s;
    }

    .video-hover-effect:hover {
        border-color: rgb(134, 239, 172);
        box-shadow: 0 0 20px rgba(134, 239, 172, 0.5);
        transform: translateY(-5px);
    }

    .rule-hover-effect:hover {
        border-color: rgb(147, 197, 253);
        box-shadow: 0 0 20px rgba(147, 197, 253, 0.5);
        transform: translateY(-3px);
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .filter-button.active {
        background-color: rgb(22, 163, 74) !important;
        color: white !important;
    }

    .video-item {
        transition: all 0.3s ease;
    }

    .tab-button {
        transition: all 0.3s ease;
    }

        .tab-button.active {
            background-color: rgb(22, 163, 74) !important;
            color: white !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

    .tab-content {
        display: none;
    }

        .tab-content.active {
            display: block;
        }

    .rules-category-button.active {
        color: rgb(22, 163, 74) !important;
        border-bottom-color: rgb(22, 163, 74) !important;
    }

    #pdf-template {
        position: absolute;
        left: -9999px;
        top: -9999px;
        width: 800px;
        padding: 40px;
        background: white;
        color: black;
        font-family: Arial, sans-serif;
    }
</style>

<!-- Hidden PDF Template -->
<div id="pdf-template">
    <h1 style="text-align: center; color: #166534; font-size: 28px; margin-bottom: 20px;">Metro Rules Handbook</h1>
    <p style="text-align: center; color: #666; margin-bottom: 30px;">Complete guide to metro safety, etiquette, and regulations</p>

    <h2 style="color: #166534; border-bottom: 2px solid #166534; padding-bottom: 5px; margin-top: 30px;">Safety Rules</h2>
    <ol>
        <li style="margin-bottom: 10px;"><strong>Stand Behind Yellow Line:</strong> Always stand behind the yellow safety line on platforms when trains are approaching or departing.</li>
        <li style="margin-bottom: 10px;"><strong>Hold Handrails:</strong> Always hold onto handrails when standing on moving trains to prevent falls and injuries.</li>
        <li style="margin-bottom: 10px;"><strong>Mind the Gap:</strong> Be cautious of the gap between the train and platform when boarding or exiting.</li>
        <li style="margin-bottom: 10px;"><strong>Supervise Children:</strong> Always keep children close and hold their hands on platforms and when boarding trains.</li>
        <li style="margin-bottom: 10px;"><strong>Emergency Procedures:</strong> Familiarize yourself with emergency exits and procedures. In case of emergency, use intercoms to contact staff.</li>
    </ol>

    <h2 style="color: #166534; border-bottom: 2px solid #166534; padding-bottom: 5px; margin-top: 30px;">Etiquette</h2>
    <ol>
        <li style="margin-bottom: 10px;"><strong>Keep Noise to a Minimum:</strong> Use headphones for audio devices and keep conversations at a considerate volume.</li>
        <li style="margin-bottom: 10px;"><strong>Let Passengers Exit First:</strong> Always allow passengers to exit the train before attempting to board.</li>
        <li style="margin-bottom: 10px;"><strong>Offer Seats to Those in Need:</strong> Please offer your seat to elderly, pregnant, or disabled passengers.</li>
        <li style="margin-bottom: 10px;"><strong>Manage Your Luggage:</strong> Keep bags and luggage out of aisles and away from seats to avoid blocking pathways.</li>
        <li style="margin-bottom: 10px;"><strong>Phone Courtesy:</strong> Keep phone conversations brief and quiet. Avoid speakerphone in public areas.</li>
    </ol>

    <h2 style="color: #166534; border-bottom: 2px solid #166534; padding-bottom: 5px; margin-top: 30px;">Prohibited Items</h2>
    <ol>
        <li style="margin-bottom: 10px;"><strong>Flammable Materials:</strong> Gasoline, propane, fireworks, and other flammable substances are strictly prohibited.</li>
        <li style="margin-bottom: 10px;"><strong>Weapons:</strong> Firearms, knives, and other weapons are not allowed on metro premises.</li>
        <li style="margin-bottom: 10px;"><strong>Alcohol & Open Containers:</strong> Consumption of alcohol and carrying open containers of alcohol is prohibited.</li>
        <li style="margin-bottom: 10px;"><strong>Smoking & Vaping:</strong> Smoking, vaping, and use of tobacco products are not allowed anywhere on metro property.</li>
        <li style="margin-bottom: 10px;"><strong>Non-Folding Bicycles:</strong> Standard bicycles are only allowed during designated hours and in specified cars.</li>
    </ol>

    <h2 style="color: #166534; border-bottom: 2px solid #166534; padding-bottom: 5px; margin-top: 30px;">Accessibility</h2>
    <ol>
        <li style="margin-bottom: 10px;"><strong>Priority Seating:</strong> Please vacate priority seating for elderly, disabled, or pregnant passengers when needed.</li>
        <li style="margin-bottom: 10px;"><strong>Elevator Priority:</strong> Give priority to those with mobility devices, strollers, or visual impairments when using elevators.</li>
        <li style="margin-bottom: 10px;"><strong>Guide Dogs:</strong> Service animals are always welcome. Please do not distract working animals.</li>
        <li style="margin-bottom: 10px;"><strong>Audio Announcements:</strong> Stop conversations during station announcements to allow everyone to hear important information.</li>
        <li style="margin-bottom: 10px;"><strong>Accessible Pathways:</strong> Keep pathways, ramps, and escalator landings clear to ensure accessibility for all passengers.</li>
    </ol>

    <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ccc; text-align: center;">
        <p>Generated by MetYube on @DateTime.Now.ToString("MMMM dd, yyyy")</p>
        <p>For more information, visit our website or contact metro customer service</p>
    </div>
</div>

<!-- Hero Section -->
<section class="relative bg-gradient-to-b from-green-400 to-green-800 text-white py-16 overflow-hidden">
    <!-- Static circles (no animation) -->
    <div class="absolute top-20 left-16 w-24 h-24 bg-green-300 rounded-full opacity-30 blur-sm"></div>
    <div class="absolute top-40 right-20 w-16 h-16 bg-green-200 rounded-full opacity-20 blur-sm"></div>
    <div class="absolute top-60 left-32 w-32 h-32 bg-green-400 rounded-full opacity-25 blur-sm"></div>

    <!-- Animated circles (only in bottom area) -->
    <div class="floating-circle-4 absolute bottom-32 right-16 w-20 h-20 bg-green-300 rounded-full opacity-35 blur-sm"></div>
    <div class="floating-circle-5 absolute bottom-20 left-20 w-28 h-28 bg-green-200 rounded-full opacity-30 blur-sm"></div>
    <div class="floating-circle-6 absolute top-32 right-40 w-12 h-12 bg-green-400 rounded-full opacity-40 blur-sm"></div>

    <div class="max-w-8xl mx-auto px-6 text-center relative z-10">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">MetYube Metro Resources</h1>
        <p class="text-xl text-green-100 mb-8">Explore our collection of metro-related videos and safety rules</p>

        <!-- Tab Navigation -->
        <div class="flex justify-center mb-8 bg-white/10 backdrop-blur-sm rounded-full p-1 w-fit mx-auto">
            <button id="videosTab" class="tab-button active px-8 py-3 rounded-full font-semibold transition-colors flex items-center gap-2">
                <i class="fas fa-video"></i> Videos
            </button>
            <button id="rulesTab" class="tab-button px-8 py-3 rounded-full font-semibold transition-colors flex items-center gap-2">
                <i class="fas fa-clipboard-list"></i> Metro Rules
            </button>
        </div>

        <div class="flex justify-center gap-4">
            <div class="bg-white/10 backdrop-blur-sm rounded-full px-6 py-2">
                <span class="text-lg">@Model.Count() Videos</span>
            </div>
            <div class="bg-white/10 backdrop-blur-sm rounded-full px-6 py-2">
                <span class="text-lg">Safety Guidelines</span>
            </div>
        </div>
    </div>
</section>

<!-- Videos Tab Content -->
<section id="videosContent" class="tab-content active py-12 bg-gray-50">
    <div class="max-w-8xl lg: mx-40 px-6">
        <!-- Category Filter -->
        <div class="mb-8 text-center">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">All Videos</h2>
            <div class="flex flex-wrap justify-center gap-2" id="categoryFilter">
                <button class="filter-button active px-4 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors" data-category="all">
                    All Categories
                </button>
                @foreach (var category in Model.Select(v => v.Category).Distinct())
                {
                    <button class="filter-button px-4 py-2 bg-white text-green-600 border border-green-600 rounded-full hover:bg-green-50 transition-colors" data-category="@category">
                        @category
                    </button>
                }
            </div>
        </div>

        <!-- Video Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8" id="videoGrid">
            @foreach (var video in Model)
            {
                <div class="video-item bg-white rounded-xl shadow-md overflow-hidden video-hover-effect transition-all duration-300 group" data-category="@video.Category">
                    <a asp-action="Detail" asp-route-id="@video.Id" class="block">
                        <!-- Video Thumbnail -->
                        <div class="relative aspect-video bg-gray-200 overflow-hidden">
                            <div class="absolute inset-0 bg-gradient-to-br from-green-400 to-blue-500 opacity-90 group-hover:opacity-70 transition-opacity"></div>
                            <div class="absolute inset-0 flex items-center justify-center">
                                <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform">
                                    <i class="fas fa-play text-white text-2xl"></i>
                                </div>
                            </div>
                            <div class="absolute bottom-3 left-3 bg-black/50 text-white px-2 py-1 rounded text-sm">
                                @video.Category
                            </div>
                        </div>

                        <!-- Video Info -->
                        <div class="p-6">
                            <h3 class="text-xl font-semibold text-gray-800 mb-2 group-hover:text-green-600 transition-colors line-clamp-2">
                                @video.Title
                            </h3>
                            <p class="text-gray-600 text-sm line-clamp-2 mb-4">
                                @video.Description
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="text-green-600 font-medium">Watch Now</span>
                                <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-600 transition-colors">
                                    <i class="fas fa-arrow-right text-green-600 group-hover:text-white text-sm"></i>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            }
        </div>

        @if (!Model.Any())
        {
            <div class="text-center py-12">
                <div class="w-24 h-24 mx-auto mb-6 bg-gray-200 rounded-full flex items-center justify-center">
                    <i class="fas fa-video text-gray-400 text-3xl"></i>
                </div>
                <h3 class="text-2xl font-semibold text-gray-600 mb-2">No Videos Available</h3>
                <p class="text-gray-500">Check back later for new content.</p>
            </div>
        }
    </div>
</section>

<!-- Rules Tab Content -->
<section id="rulesContent" class="tab-content py-12 bg-gray-50">
    <div class="max-w-4xl mx-auto px-6">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Metro Station Rules & Guidelines</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">Follow these important rules to ensure a safe and pleasant journey for everyone using the metro system.</p>
        </div>

        <div class="bg-white rounded-xl shadow-md overflow-hidden">
            <!-- Rules Categories -->
            <div class="border-b border-gray-200">
                <div class="flex overflow-x-auto px-6">
                    <button class="rules-category-button active px-6 py-4 font-medium text-green-600 border-b-2 border-green-600" data-category="safety">
                        Safety Rules
                    </button>
                    <button class="rules-category-button px-6 py-4 font-medium text-gray-500 hover:text-green-600 transition-colors" data-category="etiquette">
                        Etiquette
                    </button>
                    <button class="rules-category-button px-6 py-4 font-medium text-gray-500 hover:text-green-600 transition-colors" data-category="prohibited">
                        Prohibited Items
                    </button>
                    <button class="rules-category-button px-6 py-4 font-medium text-gray-500 hover:text-green-600 transition-colors" data-category="accessibility">
                        Accessibility
                    </button>
                </div>
            </div>

            <!-- Rules List -->
            <div class="p-6">
                <div class="rules-category-content active" data-category="safety">
                    <div class="space-y-6">
                        <div class="p-6 bg-blue-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-exclamation-triangle text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Stand Behind Yellow Line</h3>
                                    <p class="text-gray-600">Always stand behind the yellow safety line on platforms when trains are approaching or departing.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-blue-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-hands text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Hold Handrails</h3>
                                    <p class="text-gray-600">Always hold onto handrails when standing on moving trains to prevent falls and injuries.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-blue-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-door-open text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Mind the Gap</h3>
                                    <p class="text-gray-600">Be cautious of the gap between the train and platform when boarding or exiting.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-blue-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-child text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Supervise Children</h3>
                                    <p class="text-gray-600">Always keep children close and hold their hands on platforms and when boarding trains.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-blue-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-exclamation-circle text-blue-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Emergency Procedures</h3>
                                    <p class="text-gray-600">Familiarize yourself with emergency exits and procedures. In case of emergency, use intercoms to contact staff.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rules-category-content hidden" data-category="etiquette">
                    <div class="space-y-6">
                        <div class="p-6 bg-orange-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-volume-mute text-orange-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Keep Noise to a Minimum</h3>
                                    <p class="text-gray-600">Use headphones for audio devices and keep conversations at a considerate volume.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-orange-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-arrows-alt-h text-orange-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Let Passengers Exit First</h3>
                                    <p class="text-gray-600">Always allow passengers to exit the train before attempting to board.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-orange-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-chair text-orange-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Offer Seats to Those in Need</h3>
                                    <p class="text-gray-600">Please offer your seat to elderly, pregnant, or disabled passengers.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-orange-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-suitcase text-orange-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Manage Your Luggage</h3>
                                    <p class="text-gray-600">Keep bags and luggage out of aisles and away from seats to avoid blocking pathways.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-orange-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-mobile-alt text-orange-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Phone Courtesy</h3>
                                    <p class="text-gray-600">Keep phone conversations brief and quiet. Avoid speakerphone in public areas.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rules-category-content hidden" data-category="prohibited">
                    <div class="space-y-6">
                        <div class="p-6 bg-red-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-fire text-red-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Flammable Materials</h3>
                                    <p class="text-gray-600">Gasoline, propane, fireworks, and other flammable substances are strictly prohibited.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-red-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-ban text-red-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Weapons</h3>
                                    <p class="text-gray-600">Firearms, knives, and other weapons are not allowed on metro premises.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-red-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-wine-bottle text-red-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Alcohol & Open Containers</h3>
                                    <p class="text-gray-600">Consumption of alcohol and carrying open containers of alcohol is prohibited.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-red-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-smoking text-red-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Smoking & Vaping</h3>
                                    <p class="text-gray-600">Smoking, vaping, and use of tobacco products are not allowed anywhere on metro property.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-red-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-bicycle text-red-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Non-Folding Bicycles</h3>
                                    <p class="text-gray-600">Standard bicycles are only allowed during designated hours and in specified cars.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rules-category-content hidden" data-category="accessibility">
                    <div class="space-y-6">
                        <div class="p-6 bg-purple-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-wheelchair text-purple-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Priority Seating</h3>
                                    <p class="text-gray-600">Please vacate priority seating for elderly, disabled, or pregnant passengers when needed.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-purple-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-elevator text-purple-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Elevator Priority</h3>
                                    <p class="text-gray-600">Give priority to those with mobility devices, strollers, or visual impairments when using elevators.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-purple-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-blind text-purple-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Guide Dogs</h3>
                                    <p class="text-gray-600">Service animals are always welcome. Please do not distract working animals.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-purple-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-assistive-listening-systems text-purple-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Audio Announcements</h3>
                                    <p class="text-gray-600">Stop conversations during station announcements to allow everyone to hear important information.</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-6 bg-purple-50 rounded-lg rule-hover-effect transition-all duration-300">
                            <div class="flex items-start gap-4">
                                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-accessible-icon text-purple-600"></i>
                                </div>
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Accessible Pathways</h3>
                                    <p class="text-gray-600">Keep pathways, ramps, and escalator landings clear to ensure accessibility for all passengers.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-12 bg-green-50 rounded-xl p-8 text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-book text-green-600 text-2xl"></i>
            </div>
            <h3 class="text-2xl font-semibold text-gray-800 mb-4">Download Complete Rules Handbook</h3>
            <p class="text-gray-600 mb-6">Get the full metro rules and regulations handbook for detailed information.</p>
            <button id="downloadHandbook" class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium">
                <i class="fas fa-download mr-2"></i> Download PDF
            </button>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Tab switching functionality
        const videosTab = document.getElementById('videosTab');
        const rulesTab = document.getElementById('rulesTab');
        const videosContent = document.getElementById('videosContent');
        const rulesContent = document.getElementById('rulesContent');

        videosTab.addEventListener('click', function() {
            videosTab.classList.add('active');
            rulesTab.classList.remove('active');
            videosContent.classList.add('active');
            rulesContent.classList.remove('active');
        });

        rulesTab.addEventListener('click', function() {
            rulesTab.classList.add('active');
            videosTab.classList.remove('active');
            rulesContent.classList.add('active');
            videosContent.classList.remove('active');
        });

        // Video category filtering
        const filterButtons = document.querySelectorAll('.filter-button');
        const videoItems = document.querySelectorAll('.video-item');

        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));

                // Add active class to clicked button
                this.classList.add('active');

                const category = this.getAttribute('data-category');

                // Filter videos
                videoItems.forEach(video => {
                    if (category === 'all' || video.getAttribute('data-category') === category) {
                        video.style.display = 'block';
                    } else {
                        video.style.display = 'none';
                    }
                });
            });
        });

        // Rules category switching
        const rulesCategoryButtons = document.querySelectorAll('.rules-category-button');
        const rulesCategoryContents = document.querySelectorAll('.rules-category-content');

        rulesCategoryButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                rulesCategoryButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.classList.remove('text-green-600');
                    btn.classList.remove('border-green-600');
                    btn.classList.add('text-gray-500');
                });

                // Add active class to clicked button
                this.classList.add('active', 'text-green-600', 'border-green-600');
                this.classList.remove('text-gray-500');

                const category = this.getAttribute('data-category');

                // Show selected category content
                rulesCategoryContents.forEach(content => {
                    if (content.getAttribute('data-category') === category) {
                        content.classList.remove('hidden');
                        content.classList.add('active');
                    } else {
                        content.classList.add('hidden');
                        content.classList.remove('active');
                    }
                });
            });
        });

        // Download handbook functionality
        document.getElementById('downloadHandbook').addEventListener('click', function() {
            // Using jsPDF to generate a proper PDF
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Set margins
            const marginLeft = 15;
            const marginRight = 15;
            const pageWidth = doc.internal.pageSize.getWidth();
            const contentWidth = pageWidth - marginLeft - marginRight;
            
            // Add header with logo
            doc.setFillColor(22, 101, 52);
            doc.rect(0, 0, pageWidth, 30, 'F');
            
            doc.setFontSize(20);
            doc.setTextColor(255, 255, 255);
            doc.text("Metro Rules Handbook", pageWidth / 2, 20, { align: 'center' });
            
            // Add subtitle
            doc.setFontSize(12);
            doc.setTextColor(102, 102, 102);
            doc.text("Complete Guide to Metro Safety, Etiquette, and Regulations", pageWidth / 2, 40, { align: 'center' });
            
            // Add content for each category
            let yPosition = 55;
            
            // Function to add section with proper formatting
            function addSection(title, rules) {
                // Check if we need a new page
                if (yPosition > 240) {
                    doc.addPage();
                    yPosition = 30;
                    
                    // Add header to new page
                    doc.setFillColor(22, 101, 52);
                    doc.rect(0, 0, pageWidth, 30, 'F');
                    doc.setFontSize(16);
                    doc.setTextColor(255, 255, 255);
                    doc.text("Metro Rules Handbook (Continued)", pageWidth / 2, 20, { align: 'center' });
                    yPosition = 40;
                }
                
                // Section title
                doc.setFontSize(16);
                doc.setTextColor(22, 101, 52);
                doc.text(title, marginLeft, yPosition);
                yPosition += 8;
                
                // Divider line
                doc.setDrawColor(22, 101, 52);
                doc.line(marginLeft, yPosition, pageWidth - marginRight, yPosition);
                yPosition += 10;
                
                // Rules list
                doc.setFontSize(11);
                doc.setTextColor(0, 0, 0);
                
                rules.forEach((rule, index) => {
                    // Check if we need a new page for this rule
                    if (yPosition > 260) {
                        doc.addPage();
                        yPosition = 30;
                        
                        // Add header to new page
                        doc.setFillColor(22, 101, 52);
                        doc.rect(0, 0, pageWidth, 30, 'F');
                        doc.setFontSize(16);
                        doc.setTextColor(255, 255, 255);
                        doc.text("Metro Rules Handbook (Continued)", pageWidth / 2, 20, { align: 'center' });
                        yPosition = 40;
                        
                        // Re-add section title if we're on a new page
                        doc.setFontSize(16);
                        doc.setTextColor(22, 101, 52);
                        doc.text(title, marginLeft, yPosition);
                        yPosition += 8;
                        
                        // Divider line
                        doc.setDrawColor(22, 101, 52);
                        doc.line(marginLeft, yPosition, pageWidth - marginRight, yPosition);
                        yPosition += 10;
                        
                        doc.setFontSize(11);
                        doc.setTextColor(0, 0, 0);
                    }
                    
                    // Rule number and text
                    const ruleText = `${index + 1}. ${rule}`;
                    
                    // Split text into multiple lines if needed
                    const splitText = doc.splitTextToSize(ruleText, contentWidth - 10);
                    doc.text(splitText, marginLeft + 5, yPosition);
                    yPosition += (splitText.length * 6) + 4;
                });
                
                yPosition += 10;
            }
            
            // Safety Rules
            const safetyRules = [
                "Stand Behind Yellow Line: Always stand behind the yellow safety line on platforms when trains are approaching or departing.",
                "Hold Handrails: Always hold onto handrails when standing on moving trains to prevent falls and injuries.",
                "Mind the Gap: Be cautious of the gap between the train and platform when boarding or exiting.",
                "Supervise Children: Always keep children close and hold their hands on platforms and when boarding trains.",
                "Emergency Procedures: Familiarize yourself with emergency exits and procedures. In case of emergency, use intercoms to contact staff."
            ];
            addSection("Safety Rules", safetyRules);
            
            // Etiquette
            const etiquetteRules = [
                "Keep Noise to a Minimum: Use headphones for audio devices and keep conversations at a considerate volume.",
                "Let Passengers Exit First: Always allow passengers to exit the train before attempting to board.",
                "Offer Seats to Those in Need: Please offer your seat to elderly, pregnant, or disabled passengers.",
                "Manage Your Luggage: Keep bags and luggage out of aisles and away from seats to avoid blocking pathways.",
                "Phone Courtesy: Keep phone conversations brief and quiet. Avoid speakerphone in public areas."
            ];
            addSection("Etiquette", etiquetteRules);
            
            // Prohibited Items
            const prohibitedItems = [
                "Flammable Materials: Gasoline, propane, fireworks, and other flammable substances are strictly prohibited.",
                "Weapons: Firearms, knives, and other weapons are not allowed on metro premises.",
                "Alcohol & Open Containers: Consumption of alcohol and carrying open containers of alcohol is prohibited.",
                "Smoking & Vaping: Smoking, vaping, and use of tobacco products are not allowed anywhere on metro property.",
                "Non-Folding Bicycles: Standard bicycles are only allowed during designated hours and in specified cars."
            ];
            addSection("Prohibited Items", prohibitedItems);
            
            // Accessibility
            const accessibilityRules = [
                "Priority Seating: Please vacate priority seating for elderly, disabled, or pregnant passengers when needed.",
                "Elevator Priority: Give priority to those with mobility devices, strollers, or visual impairments when using elevators.",
                "Guide Dogs: Service animals are always welcome. Please do not distract working animals.",
                "Audio Announcements: Stop conversations during station announcements to allow everyone to hear important information.",
                "Accessible Pathways: Keep pathways, ramps, and escalator landings clear to ensure accessibility for all passengers."
            ];
            addSection("Accessibility", accessibilityRules);
            
            // Add footer with date and page numbers
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                
                // Page number
                doc.setFontSize(10);
                doc.setTextColor(102, 102, 102);
                doc.text(`Page ${i} of ${pageCount}`, pageWidth / 2, doc.internal.pageSize.getHeight() - 10, { align: 'center' });
                
                // Footer line
                doc.setDrawColor(200, 200, 200);
                doc.line(marginLeft, doc.internal.pageSize.getHeight() - 15, pageWidth - marginRight, doc.internal.pageSize.getHeight() - 15);
            }
            
            // Add final page with contact information
            doc.addPage();
            doc.setFillColor(22, 101, 52);
            doc.rect(0, 0, pageWidth, 30, 'F');
            doc.setFontSize(16);
            doc.setTextColor(255, 255, 255);
            doc.text("Metro Rules Handbook", pageWidth / 2, 20, { align: 'center' });
            
            yPosition = 60;
            doc.setFontSize(14);
            doc.setTextColor(22, 101, 52);
            doc.text("Contact Information", pageWidth / 2, yPosition, { align: 'center' });
            yPosition += 15;
            
            doc.setFontSize(11);
            doc.setTextColor(0, 0, 0);
            const contactInfo = [
                "Metro Customer Service: 1-800-METRO-HELP",
                "Email: info@metroyube.com",
                "Website: www.metroyube.com",
                "Emergency Hotline: 1-800-METRO-911",
                "Lost & Found: 1-800-METRO-LOST"
            ];
            
            contactInfo.forEach(info => {
                doc.text(info, pageWidth / 2, yPosition, { align: 'center' });
                yPosition += 8;
            });
            
            yPosition += 15;
            doc.text(`Generated on: ${new Date().toLocaleDateString()}`, pageWidth / 2, yPosition, { align: 'center' });
            
            // Save the PDF
            doc.save('Metro_Rules_Handbook.pdf');
            
            // Show a confirmation message
            alert('Metro Rules Handbook download started!');
        });
    });
</script>